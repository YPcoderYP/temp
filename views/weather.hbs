<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/eff9abb81a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    
    <title>Weather App</title>
</head>
<body>

    <div class="box">
        
        <div class="wave -one"></div>
        <div class="wave -two"></div>
        <div class="wave -three"></div>
        <div id="weathercon">
            <i id="cloud" class="fas fa-sun fa-1x" style="color: #eccc68; display: none;" ></i>
            <i id="sun" class="fas fa-cloud fa-1x" style="color: #ffffff; display: none;" ></i>
        </div>
        
        <div class="info">
            <h2 class="location">
                <i class="fas fa-street-view " style="color: #fff"></i> {{location}} , {{country}}
                
            </h2>
            <p id="date"> </p>
            <h1 class="temp">{{tempval}}</h1>
            <h3 class="tempmin_max"> {{speed}} km/h | HUM {{Humidity}}</h3>
        </div>
        
    </div>
    
    <form action="/userinput" method="post" class="searchbar">
        <input name="city" class="takeinput" type="text">
        <button type="submit"><i id="search" class="fas fa-search"></i></button>
        
    </form>



    <script>
        const cdate=document.getElementById("date");
        let weathercon=document.getElementById("weathercon");
        const tempstatus="{%tempstatus%}";

        
        const gettime=()=>{
            let temp=setInterval(()=>{
                let weekday = new Array(7);
                weekday[0] = "SUN";
                weekday[1] = "MON";
                weekday[2] = "TUE";
                weekday[3] = "WED";
                weekday[4] = "THU";
                weekday[5] = "FRI";
                weekday[6] = "SAT";
                
                
                let months=new Array(12);
                months[0] = "Jan";
                months[1] = "Feb";
                months[2] = "Mar";
                months[3] = "Apr";
                months[4] = "May";
                months[5] = "June";
                months[6] = "July";
                months[7] = "Aug";
                months[8] = "Sep";
                months[9] = "Oct";
                months[10] = "Nov";
                months[11] = "Dec";
                
                let currentTime=new Date();
                // console.log(weekday[currentTime.getDay()]);
                
                let day=weekday[currentTime.getDay()];
                
                let mnt=months[currentTime.getMonth()];
                let date=currentTime.getDate();
                // console.log(months[mnt]);
                
                let hour=currentTime.getHours();
                let min=currentTime.getMinutes();
                
                let perios="AM";
                
                if(hour>11)
                {
                    perios="PM";
                    if(hour>12) hour-=12;
                }
                if(min<10)
                {
                    min='0'+min;
                }

                let cloud=document.getElementById("cloud");
                let sun=document.getElementById("sun");
                if(tempstatus=="Clouds")
                {
                    cloud.style.display="block";
                    sun.style.display="none";
                }
                else
                {
                    sun.style.display="block";
                    cloud.style.display="none";
                }
                
                cdate.innerHTML=`${day} | ${date} ${mnt} | ${hour}:${min} ${perios}`;
            },1000);
        }

        gettime();

        </script>
</body>
</html>

